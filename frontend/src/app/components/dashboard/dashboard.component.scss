$cyan: #00ffff;
$cyan-dim: rgba(0, 255, 255, 0.3);
$cyan-glow: rgba(0, 255, 255, 0.15);
$dark-bg: #000a14;
$panel-bg: rgba(0, 20, 40, 0.85);

.dashboard-container {
  min-height: 100vh;
  background: $dark-bg;
  position: relative;
  overflow: hidden;
}

// ===== HUD BACKGROUND =====
.hud-bg {
  position: fixed; inset: 0; pointer-events: none; z-index: 0;
  .grid-lines {
    position: absolute; inset: 0;
    background-image: linear-gradient(rgba(0,255,255,0.025) 1px, transparent 1px), linear-gradient(90deg, rgba(0,255,255,0.025) 1px, transparent 1px);
    background-size: 60px 60px; animation: gridShift 20s linear infinite;
  }
  .scan-line {
    position: absolute; left: 0; right: 0; height: 2px;
    background: linear-gradient(90deg, transparent, $cyan-dim, transparent);
    animation: scanDown 8s linear infinite; opacity: 0.25;
  }
  .particle {
    position: absolute; width: 2px; height: 2px; background: $cyan;
    border-radius: 50%; box-shadow: 0 0 6px $cyan; opacity: 0;
    animation: particleFloat 8s ease-in-out infinite;
    &.p1 { left: 8%; top: 15%; animation-delay: 0s; }
    &.p2 { left: 82%; top: 22%; animation-delay: 1.1s; }
    &.p3 { left: 25%; top: 65%; animation-delay: 2.2s; }
    &.p4 { left: 92%; top: 50%; animation-delay: 3.3s; }
    &.p5 { left: 18%; top: 88%; animation-delay: 0.7s; animation-duration: 10s; }
    &.p6 { left: 65%; top: 78%; animation-delay: 1.5s; animation-duration: 9s; }
    &.p7 { left: 45%; top: 8%; animation-delay: 2.8s; animation-duration: 7s; }
    &.p8 { left: 3%; top: 42%; animation-delay: 4s; animation-duration: 11s; }
    &.p9 { left: 72%; top: 38%; animation-delay: 0.3s; animation-duration: 8.5s; }
    &.p10 { left: 55%; top: 92%; animation-delay: 3.7s; animation-duration: 9.5s; }
  }
}

// ===== HEADER =====
.dashboard-header {
  background: $panel-bg;
  border-bottom: 1px solid rgba(0,255,255,0.15);
  position: relative;
  z-index: 10;
  backdrop-filter: blur(10px);

  &::after {
    content: ''; position: absolute; bottom: -1px; left: 0; right: 0; height: 1px;
    background: linear-gradient(90deg, transparent, $cyan, transparent);
    animation: headerGlow 3s ease-in-out infinite;
  }

  .header-content {
    max-width: 1400px; margin: 0 auto; padding: 16px 40px;
    display: flex; justify-content: space-between; align-items: center;

    .header-left {
      display: flex; align-items: center; gap: 16px;

      .logo-radar {
        position: relative; width: 44px; height: 44px;
        display: flex; align-items: center; justify-content: center;
        .mini-ring {
          position: absolute; border-radius: 50%; border: 1px solid rgba(0,255,255,0.12);
          &.r1 { inset: 0; } &.r2 { inset: 8px; }
        }
        .mini-sweep {
          position: absolute; inset: 0; border-radius: 50%;
          background: conic-gradient(from 0deg, transparent, rgba(0,255,255,0.1) 30deg, transparent 60deg);
          animation: radarSweep 4s linear infinite;
        }
        .logo-core {
          color: $cyan; font-size: 16px; z-index: 1; text-shadow: 0 0 8px $cyan;
          animation: corePulse 2s ease-in-out infinite;
        }
      }

      .logo-text {
        h1 {
          font-size: 20px; font-weight: 700; color: $cyan; letter-spacing: 4px; margin: 0;
          font-family: 'Courier New', monospace; text-shadow: 0 0 15px rgba(0,255,255,0.3);
        }
        .sys-tag {
          font-size: 8px; color: rgba(255,255,255,0.35); letter-spacing: 3px;
          font-family: 'Courier New', monospace;
        }
      }
    }

    .header-right {
      display: flex; align-items: center; gap: 20px;

      .user-info {
        text-align: right;
        .user-badge {
          display: flex; align-items: center; gap: 8px; justify-content: flex-end;
          .status-dot {
            width: 6px; height: 6px; background: #00ff88; border-radius: 50%;
            box-shadow: 0 0 6px #00ff88; animation: dotPulse 1.5s ease-in-out infinite;
          }
          .username {
            color: #fff; font-size: 14px; letter-spacing: 1px;
            font-family: 'Courier New', monospace;
          }
        }
        .user-meta .user-label {
          font-size: 8px; color: rgba(0,255,255,0.5); letter-spacing: 2px;
          font-family: 'Courier New', monospace;
        }
      }

      .btn-logout {
        padding: 8px 16px; background: transparent;
        border: 1px solid rgba(255,0,85,0.3); color: #ff3366;
        font-size: 10px; font-weight: 600; letter-spacing: 2px; cursor: pointer;
        transition: all 0.3s; font-family: 'Courier New', monospace;
        display: flex; align-items: center; gap: 6px;
        clip-path: polygon(8px 0, 100% 0, 100% 100%, 0 100%, 0 8px);
        .logout-icon { font-size: 12px; }
        &:hover {
          background: rgba(255,0,85,0.08); border-color: #ff3366;
          box-shadow: 0 0 15px rgba(255,0,85,0.15);
        }
      }
    }
  }

  .header-data-strip {
    max-width: 1400px; margin: 0 auto; padding: 6px 40px 8px;
    display: flex; gap: 12px; font-family: 'Courier New', monospace;
    font-size: 9px; letter-spacing: 1px; color: rgba(255,255,255,0.3);
    border-top: 1px solid rgba(0,255,255,0.05);
    .sep { color: rgba(0,255,255,0.15); }
    .blink { color: #00ff88; animation: blink 1.2s step-end infinite; }
  }
}

// ===== CONTENT =====
.dashboard-content {
  max-width: 1400px; margin: 0 auto; padding: 40px;
  position: relative; z-index: 5;
}

// ===== LOADING =====
.loading-hud {
  display: flex; flex-direction: column; align-items: center;
  padding: 80px 20px; gap: 24px;

  .loader-core {
    position: relative; width: 70px; height: 70px;
    display: flex; align-items: center; justify-content: center;
    .loader-ring {
      position: absolute; border-radius: 50%; border: 1px solid rgba(0,255,255,0.15);
      &.lr1 { inset: 0; animation: ringRotate 3s linear infinite; border-top-color: $cyan; }
      &.lr2 { inset: 8px; animation: ringRotate 2s linear infinite reverse; border-right-color: $cyan; }
      &.lr3 { inset: 16px; animation: ringRotate 1.5s linear infinite; border-bottom-color: $cyan; }
    }
    .loader-icon { color: $cyan; font-size: 18px; z-index: 1; animation: corePulse 1s ease-in-out infinite; }
  }

  p {
    font-size: 12px; letter-spacing: 3px; color: $cyan;
    font-family: 'Courier New', monospace;
  }

  .loader-bar {
    width: 200px; height: 2px; background: rgba(0,255,255,0.1); border-radius: 1px; overflow: hidden;
    .loader-bar-fill {
      height: 100%; width: 30%;
      background: linear-gradient(90deg, transparent, $cyan, transparent);
      animation: loaderSlide 1.5s ease-in-out infinite;
    }
  }
}

// ===== WARNING =====
.warning-card {
  position: relative;
  background: rgba(255,165,0,0.04); border: 1px solid rgba(255,165,0,0.2);
  border-radius: 2px; padding: 50px 40px; text-align: center;
  max-width: 600px; margin: 60px auto; overflow: hidden;

  .warning-border {
    position: absolute; inset: 0;
    background: linear-gradient(135deg, rgba(255,165,0,0.15), transparent, rgba(255,165,0,0.1)) border-box;
    mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
    mask-composite: exclude; -webkit-mask-composite: xor; pointer-events: none;
  }
  .warning-icon { font-size: 48px; margin-bottom: 20px; filter: drop-shadow(0 0 10px rgba(255,165,0,0.4)); }
  h2 { color: #ffa500; font-size: 22px; letter-spacing: 3px; margin: 0 0 12px; font-family: 'Courier New', monospace; }
  p { color: rgba(255,255,255,0.6); font-size: 13px; margin: 0 0 28px; font-family: 'Courier New', monospace; }
  .btn-primary {
    padding: 14px 30px; background: transparent; border: 1px solid rgba(255,165,0,0.4);
    color: #ffa500; font-size: 12px; font-weight: 600; letter-spacing: 2px; cursor: pointer;
    transition: all 0.3s; font-family: 'Courier New', monospace;
    display: inline-flex; align-items: center; gap: 8px;
    .btn-icon { font-size: 16px; }
    &:hover { background: rgba(255,165,0,0.08); border-color: #ffa500; box-shadow: 0 0 20px rgba(255,165,0,0.15); }
  }
  .warning-footer {
    margin-top: 28px; padding-top: 16px; border-top: 1px solid rgba(255,165,0,0.08);
    font-family: 'Courier New', monospace; font-size: 8px; letter-spacing: 1px;
    color: rgba(255,255,255,0.25);
    .sep { margin: 0 8px; color: rgba(255,165,0,0.2); }
    .blink { color: #ffa500; animation: blink 1.2s step-end infinite; }
  }
}

// ===== AGENTS SECTION =====
.agents-section {
  .section-header {
    display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;

    .section-title {
      display: flex; align-items: center; gap: 12px;
      .title-deco { color: $cyan; font-size: 14px; opacity: 0.6; }
      h2 { color: $cyan; font-size: 18px; letter-spacing: 3px; margin: 0; font-family: 'Courier New', monospace; }
      .title-line { width: 60px; height: 1px; background: linear-gradient(90deg, $cyan-dim, transparent); }
    }

    .btn-create {
      padding: 10px 20px; background: transparent; border: 1px solid $cyan-dim;
      color: $cyan; font-size: 11px; font-weight: 600; letter-spacing: 2px; cursor: pointer;
      transition: all 0.3s; font-family: 'Courier New', monospace;
      display: flex; align-items: center; gap: 8px;
      clip-path: polygon(8px 0, 100% 0, 100% 100%, 0 100%, 0 8px);
      .create-icon { font-size: 16px; font-weight: bold; }
      &:hover {
        background: rgba(0,255,255,0.08); border-color: $cyan;
        box-shadow: 0 0 20px $cyan-glow;
      }
    }
  }

  .error-message {
    color: #ff3366; font-size: 12px; margin-bottom: 20px; padding: 12px 16px;
    background: rgba(255,0,85,0.06); border: 1px solid rgba(255,0,85,0.2); border-radius: 2px;
    font-family: 'Courier New', monospace; display: flex; align-items: center; gap: 8px;
    .err-icon { font-size: 14px; }
  }

  .agents-grid {
    display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px; margin-bottom: 40px;

    .agent-card {
      background: rgba(0,20,40,0.5); border: 1px solid rgba(0,255,255,0.1);
      border-radius: 2px; padding: 24px; cursor: pointer; transition: all 0.4s cubic-bezier(0.175,0.885,0.32,1.275);
      position: relative; overflow: hidden;
      animation: cardFadeIn 0.4s ease-out forwards; opacity: 0;

      .card-border-anim {
        position: absolute; inset: 0; pointer-events: none;
        border: 1px solid transparent;
        background: linear-gradient(135deg, rgba(0,255,255,0.15), transparent 40%, transparent 60%, rgba(0,255,255,0.1)) border-box;
        mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
        mask-composite: exclude; -webkit-mask-composite: xor;
        opacity: 0; transition: opacity 0.3s;
      }

      .card-glow {
        position: absolute; bottom: -20px; left: 50%; transform: translateX(-50%);
        width: 80%; height: 40px; background: radial-gradient(ellipse, rgba(0,255,255,0.08), transparent 70%);
        filter: blur(10px); opacity: 0; transition: opacity 0.3s;
      }

      &:hover {
        border-color: rgba(0,255,255,0.3);
        transform: translateY(-4px);
        box-shadow: 0 0 25px $cyan-glow, 0 8px 30px rgba(0,0,0,0.3);
        .card-border-anim { opacity: 1; }
        .card-glow { opacity: 1; }
      }

      .card-top {
        display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 16px;

        .agent-avatar {
          position: relative; width: 44px; height: 44px;
          display: flex; align-items: center; justify-content: center;
          .avatar-ring {
            position: absolute; inset: 0; border: 1px solid $cyan-dim; border-radius: 50%;
            animation: avatarPulse 2.5s ease-in-out infinite;
          }
          .avatar-icon { font-size: 22px; z-index: 1; }
        }

        .card-status {
          display: flex; align-items: center; gap: 6px;
          .status-indicator {
            width: 6px; height: 6px; border-radius: 50%;
            &.active { background: #00ff88; box-shadow: 0 0 6px rgba(0,255,100,0.6); animation: dotPulse 1.5s ease-in-out infinite; }
          }
          .status-text { color: #00ff88; font-size: 8px; letter-spacing: 2px; font-family: 'Courier New', monospace; }
        }
      }

      .agent-info {
        margin-bottom: 16px;
        h3 { color: #fff; font-size: 16px; margin: 0 0 6px; letter-spacing: 1px; font-family: 'Courier New', monospace; }
        .agent-model { color: $cyan; font-size: 11px; font-family: 'Courier New', monospace; opacity: 0.7; }
      }

      .card-footer {
        display: flex; justify-content: space-between; align-items: center;
        padding-top: 14px; border-top: 1px solid rgba(0,255,255,0.06);
        .agent-date { color: rgba(255,255,255,0.3); font-size: 10px; font-family: 'Courier New', monospace; }
        .card-arrow { color: $cyan; font-size: 14px; opacity: 0.4; transition: all 0.3s; }
      }

      &:hover .card-footer .card-arrow { opacity: 1; transform: translateX(4px); }
    }
  }

  .empty-state {
    text-align: center; padding: 80px 20px;

    .empty-core {
      position: relative; width: 120px; height: 120px; margin: 0 auto 28px;
      display: flex; align-items: center; justify-content: center;
      .empty-ring {
        position: absolute; border-radius: 50%; border: 1px solid rgba(0,255,255,0.08);
        &.er1 { inset: 0; } &.er2 { inset: 15px; } &.er3 { inset: 30px; }
      }
      .empty-icon { font-size: 40px; opacity: 0.3; z-index: 1; }
    }

    h3 { color: $cyan; font-size: 18px; letter-spacing: 3px; margin: 0 0 10px; font-family: 'Courier New', monospace; }
    p { color: rgba(255,255,255,0.5); font-size: 13px; margin: 0 0 28px; font-family: 'Courier New', monospace; }

    .btn-primary {
      padding: 14px 28px; background: transparent; border: 1px solid $cyan-dim;
      color: $cyan; font-size: 12px; font-weight: 600; letter-spacing: 2px;
      cursor: pointer; transition: all 0.3s; font-family: 'Courier New', monospace;
      display: inline-flex; align-items: center; gap: 8px;
      .btn-icon { font-size: 16px; }
      &:hover { background: rgba(0,255,255,0.08); border-color: $cyan; box-shadow: 0 0 20px $cyan-glow; }
    }
  }
}

// ===== QUICK ACTIONS =====
.quick-actions {
  margin-top: 40px;

  .actions-header {
    display: flex; align-items: center; gap: 10px; margin-bottom: 16px;
    .title-deco { color: $cyan; font-size: 12px; opacity: 0.5; }
    .actions-label {
      font-size: 10px; color: rgba(255,255,255,0.4); letter-spacing: 3px;
      font-family: 'Courier New', monospace;
    }
  }

  .actions-grid {
    display: flex; gap: 14px;

    .action-btn {
      width: 160px; padding: 18px; background: rgba(0,20,40,0.5);
      border: 1px solid rgba(0,255,255,0.08); border-radius: 2px;
      cursor: pointer; transition: all 0.3s; text-align: center;
      display: flex; flex-direction: column; align-items: center; gap: 8px;

      .action-icon-wrap {
        width: 40px; height: 40px; border: 1px solid rgba(0,255,255,0.15); border-radius: 50%;
        display: flex; align-items: center; justify-content: center; transition: all 0.3s;
        .action-icon { font-size: 18px; }
      }
      .action-text { color: #fff; font-size: 11px; letter-spacing: 1px; font-family: 'Courier New', monospace; }
      .action-sub { color: rgba(0,255,255,0.4); font-size: 8px; letter-spacing: 2px; font-family: 'Courier New', monospace; }

      &:hover {
        border-color: rgba(0,255,255,0.25);
        background: rgba(0,30,50,0.6);
        box-shadow: 0 0 15px $cyan-glow;
        .action-icon-wrap { border-color: $cyan-dim; box-shadow: 0 0 10px $cyan-glow; }
      }
    }
  }
}

// ===== ANIMATIONS =====
@keyframes gridShift { 0% { transform: translate(0,0); } 100% { transform: translate(60px,60px); } }
@keyframes scanDown { 0% { top: -2px; } 100% { top: 100%; } }
@keyframes particleFloat { 0%, 100% { opacity: 0; transform: translateY(0); } 20% { opacity: 0.7; } 50% { opacity: 0.3; transform: translateY(-30px); } 80% { opacity: 0.5; } }
@keyframes radarSweep { to { transform: rotate(360deg); } }
@keyframes headerGlow { 0%, 100% { opacity: 0.3; } 50% { opacity: 1; } }
@keyframes ringRotate { to { transform: rotate(360deg); } }
@keyframes corePulse { 0%, 100% { opacity: 1; transform: scale(1); } 50% { opacity: 0.5; transform: scale(0.85); } }
@keyframes dotPulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.3; } }
@keyframes avatarPulse { 0%, 100% { transform: scale(1); border-color: $cyan-dim; } 50% { transform: scale(1.05); border-color: $cyan; } }
@keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }
@keyframes loaderSlide { 0% { transform: translateX(-100%); } 100% { transform: translateX(400%); } }
@keyframes cardFadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }

// ===== RESPONSIVE =====
@media (max-width: 768px) {
  .dashboard-header .header-content { padding: 12px 16px; flex-wrap: wrap; gap: 12px; }
  .dashboard-header .header-data-strip { padding: 6px 16px 8px; flex-wrap: wrap; }
  .dashboard-content { padding: 24px 16px; }
  .agents-section .agents-grid { grid-template-columns: 1fr; }
  .quick-actions .actions-grid { flex-wrap: wrap; }
}
